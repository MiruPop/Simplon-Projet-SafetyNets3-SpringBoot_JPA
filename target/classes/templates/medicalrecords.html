<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Safety Net - Dossiers médicaux</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/superhero/bootstrap.min.css"
	integrity="sha384-HnTY+mLT0stQlOwD3wcAzSVAZbrBp141qwfR4WfTqVQKSgmcgzk+oP0ieIyrxiFO"
	crossorigin="anonymous">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid">
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarColor03"
				aria-controls="navbarColor03" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>


			<div class="collapse navbar-collapse" id="navbarColor03">
				<ul class="nav nav-tabs">
					<li class="nav-item"><a class="nav-link" data-bs-toggle="tab"
						href="/home">Home</a></li>

					<li class="nav-item"><a class="nav-link" href="/person">Personnes</a></li>
					<li class="nav-item"><a class="nav-link" href="/firestation">Casernes
							pompiers</a></li>
					<li class="nav-item"><a class="nav-link active" href="/medicalrecord">Dossiers
							médicaux</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<br>
	<div class="d-grid gap-2">
		<a class="nav-link active" href="/newMedrecord"><button
				class="btn btn-lg btn-primary" type="button">Ajouter
				un dossier</button></a>
	</div>

	<br>
	<h3 class="text-center">Dossiers médicaux</h3>
	<br>
	<table class="table table-hover">
		<thead>
			<tr>
				<th>Nom</th>
				<th>Prenom</th>
				<th>Date de naissance</th>
				<th>Médication</th>
				<th>Allergies</th>
				<th>Modifier</th>
				<th>Effacer</th>
			</tr>
		</thead>
		<tbody th:each="medRecord : ${listeDossiers}">
			<tr class="table-secondary">
				<td th:text="${medRecord.lastName}"></td>
				<td th:text="${medRecord.firstName}"></td>
				<td th:text="${medRecord.birthdate}"></td>
				<td><ul th:each="medication : ${medRecord.medications}" class="list-group">
  					<li th:text="${medication}" class="list-group-item d-flex justify-content-between align-items-center"></li></ul></td>
 				<td><ul th:each="allergy : ${medRecord.allergies}" class="list-group">
  					<li th:text="${allergy}" class="list-group-item d-flex justify-content-between align-items-center"></li></ul></td>
				
<!-- 				<table class="table">
        			<tr th:each="medication : ${dossier.medications}"><td th:text="${medication}"></td></tr></table></td>
				<td><table class="table">
					<tr th:each="allergy : ${dossier.allergies}"><td th:text="${allergy}"></td></tr></table></td> -->
				
				<td><a th:href="@{/editMedrecord/{id}(id = ${medRecord.id})}"><span
						class="iconify" data-icon="la:pen-fancy" data-inline="false"></span></a></td>
				<td><a th:href="@{/deleteMedrecord/{id}(id = ${medRecord.id})}"><span
						class="iconify" data-icon="entypo:trash" data-inline="false"></span></a></td>
			</tr>
		</tbody>
	</table>

	<script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
</body>
</html>